import { baseCPPContribution, EIPremiums } from "../../../utils/helpers/calculator/creditTaxCalculationFormulas";
import { determineFederalTaxON } from "../../../utils/helpers/calculator/FederalTax/FederalTax";
import { determineProvTaxON } from "../../../utils/helpers/calculator/ProvincialTax/provincialTax";
import { formulaEnhancedCPPdeduction, formulaForProvincialCredits } from "../../../utils/helpers/calculator/taxCalculationFormula";

const report_data = "{\"LIFT\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"income\": {\"party1\": [{\"label\": \"10100 - Employment Income\", \"value\": \"10100\", \"amount\": \"120000\"}], \"party2\": [{\"label\": \"10100 - Employment Income\", \"value\": \"10100\", \"amount\": \"20000\"}]}, \"tax_year\": 2021, \"background\": {\"label\": \"SPOUSAL_support_test\", \"description\": \"testing 1\", \"party1LastName\": \"\", \"party1province\": \"ON\", \"party2LastName\": \"\", \"party2province\": \"ON\", \"party1FirstName\": \"Party 1\", \"party2FirstName\": \"Party 2\", \"party1DateOfBirth\": 1299906000000, \"party1LiveInRural\": \"No\", \"party2DateOfBirth\": 1279598400000, \"party2LiveInRural\": \"No\", \"party1LiveInOntario\": \"No\", \"party2LiveInOntario\": \"No\", \"party1eligibleForDisability\": \"No\", \"party2eligibleForDisability\": \"No\", \"party1ExemptFromCanadaPension\": \"No\", \"party2ExemptFromCanadaPension\": \"No\", \"party1ExemptFromEmploymentPremium\": \"No\", \"party2ExemptFromEmploymentPremium\": \"No\"}, \"updated_at\": \"2022-07-11T17:03:22.853Z\", \"report_type\": \"WITHOUT_CHILD_FORMULA\", \"GSTHSTValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"childSupport\": {\"givenTo\": \"Party 2\", \"childSupport1\": 0, \"childSupport2\": 0}, \"cppDeductions\": {\"party1\": 290, \"party2\": 82.5}, \"CPPandEIValues\": {\"party1Low\": 4055.49, \"party1Med\": 4055.49, \"party2Low\": 1215.25, \"party2Med\": 1215.25, \"party1High\": 4055.49, \"party2High\": 1215.25}, \"benefitsValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"spousalSupport\": {\"givenTo\": \"Party 2\", \"spousalSupport1Low\": 0, \"spousalSupport1Med\": 0, \"spousalSupport2Low\": 3125, \"spousalSupport2Med\": 3645.833333333334, \"spousalSupport1High\": 0, \"spousalSupport2High\": 4033.35}, \"calculator_type\": \"SPOUSAL_SUPPORT\", \"specialExpenses\": {\"specialExpensesLow1\": 0, \"specialExpensesLow2\": 0, \"specialExpensesMed1\": 0, \"specialExpensesMed2\": 0, \"specialExpensesHigh1\": 0, \"specialExpensesHigh2\": 0}, \"totalDeductions\": {\"party1\": 290, \"party2\": 82.5}, \"aboutTheChildren\": {\"count\": {\"party1\": 0, \"party2\": 0, \"shared\": 0, \"party1WithAdultChild\": 0, \"party2WithAdultChild\": 0, \"sharedWithAdultChild\": 0}, \"childrenInfo\": [], \"numberOfChildren\": 0, \"numberOfChildrenWithAdultChild\": 0}, \"allCreditsParty1\": {\"ageAmount\": 0, \"EIPremiums\": 889.54, \"baseCPPContribution\": 2875.95, \"totalFederalCredits\": 18830.49, \"totalOntarioCredits\": 14645.49, \"canadaEmploymentAmount\": 1257, \"amountForEligibleDependent\": 0, \"basicPersonalAmountFederal\": 13808, \"basicPersonalAmountOntario\": 10880, \"amountForEligibleDependentOntario\": 0}, \"allCreditsParty2\": {\"ageAmount\": 0, \"EIPremiums\": 316.00000000000006, \"baseCPPContribution\": 816.75, \"totalFederalCredits\": 16197.75, \"totalOntarioCredits\": 12012.75, \"canadaEmploymentAmount\": 1257, \"amountForEligibleDependent\": 0, \"basicPersonalAmountFederal\": 13808, \"basicPersonalAmountOntario\": 10880, \"amountForEligibleDependentOntario\": 0}, \"federalTaxValues\": {\"party1Low\": 12333.28, \"party1Med\": 9405.26, \"party2Low\": 5643.92, \"party2Med\": 8571.94, \"party1High\": 9097.84, \"party2High\": 8879.37}, \"lowPropsCalTable\": {\"incomes\": {\"party1\": 120000, \"party2\": 20000}, \"percentage\": 40, \"childSupport\": {\"party1\": 0, \"party2\": 0}, \"spousalSupport\": {\"party1\": 0, \"party2\": 3125}, \"specialExpenses\": {\"party1\": 0, \"party2\": 0}, \"benefitsAndCredits\": {\"party1\": 0, \"party2\": 0}, \"taxesAndDeductions\": {\"party1\": 22618.22, \"party2\": 9808.66}, \"applicablePercentage\": 0.375, \"notionalChildSupport\": {\"party1\": 0, \"party2\": 0}}, \"medPropsCalTable\": {\"incomes\": {\"party1\": 120000, \"party2\": 20000}, \"percentage\": 43, \"childSupport\": {\"party1\": 0, \"party2\": 0}, \"spousalSupport\": {\"party1\": 0, \"party2\": 3645.833333333334}, \"specialExpenses\": {\"party1\": 0, \"party2\": 0}, \"benefitsAndCredits\": {\"party1\": 0, \"party2\": 0}, \"taxesAndDeductions\": {\"party1\": 18282.39, \"party2\": 14043.58}, \"applicablePercentage\": 0.43750000000000006, \"notionalChildSupport\": {\"party1\": 0, \"party2\": 0}}, \"ontarioTaxValues\": {\"party1Low\": 6229.445618, \"party1Med\": 4821.643515000001, \"party2Low\": 2949.4911149999994, \"party2Med\": 4256.385614999999, \"party1High\": 4534.426455, \"party2High\": 4393.602675}, \"durationOfSupport\": [999999999, 999999999], \"highPropsCalTable\": {\"incomes\": {\"party1\": 120000, \"party2\": 20000}, \"percentage\": 46, \"childSupport\": {\"party1\": 0, \"party2\": 0}, \"spousalSupport\": {\"party1\": 0, \"party2\": 4033.35}, \"specialExpenses\": {\"party1\": 0, \"party2\": 0}, \"benefitsAndCredits\": {\"party1\": 0, \"party2\": 0}, \"taxesAndDeductions\": {\"party1\": 17687.76, \"party2\": 14488.22}, \"applicablePercentage\": 0.5, \"notionalChildSupport\": {\"party1\": 0, \"party2\": 0}}, \"totalIncomeParty1\": 120000, \"totalIncomeParty2\": 20000, \"CPPDeductionValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"childCareExpenses1\": 0, \"childCareExpenses2\": 0, \"fetchedHealthTaxDB\": [{\"To\": 20000, \"id\": 11, \"From\": 0, \"Rate\": 0, \"Year\": 2021, \"Basic\": 0, \"Province\": \"ON-Health\", \"Income_over\": 0}, {\"To\": 25000, \"id\": 12, \"From\": 20000, \"Rate\": 0.06, \"Year\": 2021, \"Basic\": 0, \"Province\": \"ON-Health\", \"Income_over\": 20000}, {\"To\": 36000, \"id\": 13, \"From\": 25000, \"Rate\": 0, \"Year\": 2021, \"Basic\": 300, \"Province\": \"ON-Health\", \"Income_over\": 25000}, {\"To\": 38500, \"id\": 14, \"From\": 36000, \"Rate\": 0.06, \"Year\": 2021, \"Basic\": 300, \"Province\": \"ON-Health\", \"Income_over\": 36000}, {\"To\": 48000, \"id\": 15, \"From\": 38500, \"Rate\": 0, \"Year\": 2021, \"Basic\": 450, \"Province\": \"ON-Health\", \"Income_over\": 38500}, {\"To\": 48600, \"id\": 16, \"From\": 48000, \"Rate\": 0.25, \"Year\": 2021, \"Basic\": 450, \"Province\": \"ON-Health\", \"Income_over\": 48000}, {\"To\": 72000, \"id\": 17, \"From\": 48600, \"Rate\": 0, \"Year\": 2021, \"Basic\": 600, \"Province\": \"ON-Health\", \"Income_over\": 48600}, {\"To\": 72600, \"id\": 18, \"From\": 72000, \"Rate\": 0.25, \"Year\": 2021, \"Basic\": 600, \"Province\": \"ON-Health\", \"Income_over\": 72000}, {\"To\": 200000, \"id\": 19, \"From\": 72600, \"Rate\": 0, \"Year\": 2021, \"Basic\": 750, \"Province\": \"ON-Health\", \"Income_over\": 72600}, {\"To\": 200600, \"id\": 20, \"From\": 200000, \"Rate\": 0.25, \"Year\": 2021, \"Basic\": 750, \"Province\": \"ON-Health\", \"Income_over\": 200000}, {\"To\": 9999999, \"id\": 21, \"From\": 200600, \"Rate\": 0, \"Year\": 2021, \"Basic\": 900, \"Province\": \"ON-Health\", \"Income_over\": 200600}], \"fetchedONCareTaxDB\": [{\"To\": 20000, \"id\": 22, \"From\": 0, \"Rate\": 0.75, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 22500, \"id\": 23, \"From\": 20000, \"Rate\": 0.73, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 25000, \"id\": 24, \"From\": 22500, \"Rate\": 0.71, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 27500, \"id\": 25, \"From\": 25000, \"Rate\": 0.69, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 30000, \"id\": 26, \"From\": 27500, \"Rate\": 0.67, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 32500, \"id\": 27, \"From\": 30000, \"Rate\": 0.65, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 35000, \"id\": 28, \"From\": 32500, \"Rate\": 0.63, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 37500, \"id\": 29, \"From\": 35000, \"Rate\": 0.61, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 40000, \"id\": 30, \"From\": 37500, \"Rate\": 0.59, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 45000, \"id\": 31, \"From\": 40000, \"Rate\": 0.57, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 50000, \"id\": 32, \"From\": 45000, \"Rate\": 0.55, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 55000, \"id\": 33, \"From\": 50000, \"Rate\": 0.53, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 60000, \"id\": 34, \"From\": 55000, \"Rate\": 0.51, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 63600, \"id\": 35, \"From\": 60000, \"Rate\": 0.49, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 67200, \"id\": 36, \"From\": 63600, \"Rate\": 0.47, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 70800, \"id\": 37, \"From\": 67200, \"Rate\": 0.45, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 74400, \"id\": 38, \"From\": 70800, \"Rate\": 0.43, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 78000, \"id\": 39, \"From\": 74400, \"Rate\": 0.41, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 81600, \"id\": 40, \"From\": 78000, \"Rate\": 0.39, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 85200, \"id\": 41, \"From\": 81600, \"Rate\": 0.37, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 88800, \"id\": 42, \"From\": 85200, \"Rate\": 0.35, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 92400, \"id\": 43, \"From\": 88800, \"Rate\": 0.33, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 96000, \"id\": 44, \"From\": 92400, \"Rate\": 0.31, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 99600, \"id\": 45, \"From\": 96000, \"Rate\": 0.29, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 103200, \"id\": 46, \"From\": 99600, \"Rate\": 0.27, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 106800, \"id\": 47, \"From\": 103200, \"Rate\": 0.25, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 110400, \"id\": 48, \"From\": 106800, \"Rate\": 0.23, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 114000, \"id\": 49, \"From\": 110400, \"Rate\": 0.21, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 117600, \"id\": 50, \"From\": 114000, \"Rate\": 0.19, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 121200, \"id\": 51, \"From\": 117600, \"Rate\": 0.17, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 124800, \"id\": 52, \"From\": 121200, \"Rate\": 0.15, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 128400, \"id\": 53, \"From\": 124800, \"Rate\": 0.13, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 132000, \"id\": 54, \"From\": 128400, \"Rate\": 0.11, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 135600, \"id\": 55, \"From\": 132000, \"Rate\": 0.09, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 139200, \"id\": 56, \"From\": 135600, \"Rate\": 0.07, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 142800, \"id\": 57, \"From\": 139200, \"Rate\": 0.05, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 146400, \"id\": 58, \"From\": 142800, \"Rate\": 0.03, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 150000, \"id\": 59, \"From\": 146400, \"Rate\": 0.01, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}, {\"To\": 9999999, \"id\": 60, \"From\": 150000, \"Rate\": 0, \"Year\": 2021, \"Basic\": null, \"Province\": \"ON-Ccare\", \"Income_over\": null}], \"taxableIncomeValues\": {\"party1Low\": 87092.44, \"party1Med\": 72809.44, \"party2Low\": 52535.06, \"party2Med\": 66818.06, \"party1High\": 71309.8, \"party2High\": 68317.7}, \"aboutTheRelationship\": {\"dateOfMarriage\": 787122000000, \"dateOfSeparation\": 1576126800000}, \"fetchedDynamicValues\": {\"EILimit\": 889.54, \"BaseCPPLimit\": 2875.95, \"BasicPersonalAmount\": 10880, \"BasicPersonalAmountFed\": 13808, \"SelfEmployedEnhCPPRate\": 0.109, \"EnhancedCPPDeductionRate\": 0.005, \"EnhancedCPPDeductionLimit\": 290, \"AmountForEligibleDependent\": 9238, \"CanadaEmploymentAmountLimit\": 1257, \"SelfEmployedEnhCPPThreshold\": 61600, \"AmountForEligibleDependentFed\": 13808}, \"ontarioSalesTaxValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"fetchedFederalValuesDB\": [{\"To\": 49020, \"id\": 1, \"From\": 0, \"Rate\": 0.15, \"Year\": 2021, \"Basic\": 0, \"Province\": \"FED\", \"Income_over\": 0}, {\"To\": 98040, \"id\": 2, \"From\": 49020, \"Rate\": 0.205, \"Year\": 2021, \"Basic\": 7353, \"Province\": \"FED\", \"Income_over\": 49020}, {\"To\": 151978, \"id\": 3, \"From\": 98040, \"Rate\": 0.26, \"Year\": 2021, \"Basic\": 17402.1, \"Province\": \"FED\", \"Income_over\": 98040}, {\"To\": 216511, \"id\": 4, \"From\": 151978, \"Rate\": 0.29, \"Year\": 2021, \"Basic\": 31425.98, \"Province\": \"FED\", \"Income_over\": 151978}, {\"To\": 9999999, \"id\": 5, \"From\": 216511, \"Rate\": 0.33, \"Year\": 2021, \"Basic\": 50140.55, \"Province\": \"FED\", \"Income_over\": 216511}], \"fetchedProvincialTaxDB\": [{\"To\": 45142, \"id\": 6, \"From\": 0, \"Rate\": 0.05, \"Year\": 2021, \"Basic\": 0, \"Province\": \"ON\", \"Income_over\": 0}, {\"To\": 90287, \"id\": 7, \"From\": 45142, \"Rate\": 0.0915, \"Year\": 2021, \"Basic\": 2279.67, \"Province\": \"ON\", \"Income_over\": 45142}, {\"To\": 150000, \"id\": 8, \"From\": 90287, \"Rate\": 0.1116, \"Year\": 2021, \"Basic\": 6410.44, \"Province\": \"ON\", \"Income_over\": 90287}, {\"To\": 220000, \"id\": 9, \"From\": 150000, \"Rate\": 0.1216, \"Year\": 2021, \"Basic\": 13074.41, \"Province\": \"ON\", \"Income_over\": 150000}, {\"To\": 9999999, \"id\": 10, \"From\": 220000, \"Rate\": 0.13, \"Year\": 2021, \"Basic\": 21586.41, \"Province\": \"ON\", \"Income_over\": 220000}], \"canadaChildBenefitValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"taxesWithSpecialExpenses\": {\"party1Low\": 22618.22, \"party1Med\": 18282.39, \"party2Low\": 9808.66, \"party2Med\": 14043.58, \"party1High\": 17687.76, \"party2High\": 14488.22}, \"employedIncome10100Party1\": 120000, \"employedIncome10100Party2\": 20000, \"ontarioChildBenefitValues\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"personAgeReceivingSupport\": 1279598400000, \"taxesWithoutSpecialExpenses\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}, \"getTotalSpecialExpensesParty1\": 0, \"getTotalSpecialExpensesParty2\": 0, \"getParamsForCalculatingAllCredits1\": {\"screen1\": {\"background\": {\"label\": \"SPOUSAL_support_test\", \"description\": \"testing 1\", \"party1LastName\": \"\", \"party1province\": \"ON\", \"party2LastName\": \"\", \"party2province\": \"ON\", \"party1FirstName\": \"Party 1\", \"party2FirstName\": \"Party 2\", \"party1DateOfBirth\": 1299906000000, \"party1LiveInRural\": \"No\", \"party2DateOfBirth\": 1279598400000, \"party2LiveInRural\": \"No\", \"party1LiveInOntario\": \"No\", \"party2LiveInOntario\": \"No\", \"party1eligibleForDisability\": \"No\", \"party2eligibleForDisability\": \"No\", \"party1ExemptFromCanadaPension\": \"No\", \"party2ExemptFromCanadaPension\": \"No\", \"party1ExemptFromEmploymentPremium\": \"No\", \"party2ExemptFromEmploymentPremium\": \"No\"}, \"aboutTheChildren\": {\"count\": {\"party1\": 0, \"party2\": 0, \"shared\": 0, \"party1WithAdultChild\": 0, \"party2WithAdultChild\": 0, \"sharedWithAdultChild\": 0}, \"childrenInfo\": [], \"numberOfChildren\": 0, \"numberOfChildrenWithAdultChild\": 0}, \"aboutTheRelationship\": {\"dateOfMarriage\": 787122000000, \"dateOfSeparation\": 1576126800000}}, \"partyNum\": 1, \"totalIncome\": 120000, \"ageForPerson\": 11, \"childSupport\": {\"party1\": 0, \"party2\": 0}, \"dynamicValues\": {\"EILimit\": 889.54, \"BaseCPPLimit\": 2875.95, \"BasicPersonalAmount\": 10880, \"BasicPersonalAmountFed\": 13808, \"SelfEmployedEnhCPPRate\": 0.109, \"EnhancedCPPDeductionRate\": 0.005, \"EnhancedCPPDeductionLimit\": 290, \"AmountForEligibleDependent\": 9238, \"CanadaEmploymentAmountLimit\": 1257, \"SelfEmployedEnhCPPThreshold\": 61600, \"AmountForEligibleDependentFed\": 13808}, \"taxableIncome\": 119710, \"employedIncome\": 120000, \"selfEmployedIncome\": 0}, \"getParamsForCalculatingAllCredits2\": {\"screen1\": {\"background\": {\"label\": \"SPOUSAL_support_test\", \"description\": \"testing 1\", \"party1LastName\": \"\", \"party1province\": \"ON\", \"party2LastName\": \"\", \"party2province\": \"ON\", \"party1FirstName\": \"Party 1\", \"party2FirstName\": \"Party 2\", \"party1DateOfBirth\": 1299906000000, \"party1LiveInRural\": \"No\", \"party2DateOfBirth\": 1279598400000, \"party2LiveInRural\": \"No\", \"party1LiveInOntario\": \"No\", \"party2LiveInOntario\": \"No\", \"party1eligibleForDisability\": \"No\", \"party2eligibleForDisability\": \"No\", \"party1ExemptFromCanadaPension\": \"No\", \"party2ExemptFromCanadaPension\": \"No\", \"party1ExemptFromEmploymentPremium\": \"No\", \"party2ExemptFromEmploymentPremium\": \"No\"}, \"aboutTheChildren\": {\"count\": {\"party1\": 0, \"party2\": 0, \"shared\": 0, \"party1WithAdultChild\": 0, \"party2WithAdultChild\": 0, \"sharedWithAdultChild\": 0}, \"childrenInfo\": [], \"numberOfChildren\": 0, \"numberOfChildrenWithAdultChild\": 0}, \"aboutTheRelationship\": {\"dateOfMarriage\": 787122000000, \"dateOfSeparation\": 1576126800000}}, \"partyNum\": 2, \"totalIncome\": 20000, \"ageForPerson\": 11, \"childSupport\": {\"party1\": 0, \"party2\": 0}, \"dynamicValues\": {\"EILimit\": 889.54, \"BaseCPPLimit\": 2875.95, \"BasicPersonalAmount\": 10880, \"BasicPersonalAmountFed\": 13808, \"SelfEmployedEnhCPPRate\": 0.109, \"EnhancedCPPDeductionRate\": 0.005, \"EnhancedCPPDeductionLimit\": 290, \"AmountForEligibleDependent\": 9238, \"CanadaEmploymentAmountLimit\": 1257, \"SelfEmployedEnhCPPThreshold\": 61600, \"AmountForEligibleDependentFed\": 13808}, \"taxableIncome\": 19917.5, \"employedIncome\": 20000, \"selfEmployedIncome\": 0}, \"benefitsValuesWithoutSpecialExpenses\": {\"party1Low\": 0, \"party1Med\": 0, \"party2Low\": 0, \"party2Med\": 0, \"party1High\": 0, \"party2High\": 0}}"


const parseReport = JSON.parse(report_data);

console.log("parse Report", parseReport)


    const federalTax1 = determineFederalTaxON({
      fetchedFederalValuesDB: parseReport.fetchedFederalValuesDB,
      taxableIncome:  82210,
      paramsForCalculatingAllCredits: {...parseReport.getParamsForCalculatingAllCredits1, taxableIncome: 82210}
    })


    const ontarioTax1 = determineProvTaxON({
      fetchedProvincialTaxDB: parseReport.fetchedProvincialTaxDB,
      fetchedHealthTaxDB: parseReport.fetchedHealthTaxDB,
      taxableIncome: 82210,
      getParamsForCalculatingAllCredits: {...parseReport.getParamsForCalculatingAllCredits1, taxableIncome: 82210},
    })

    const CPPForEmployed = () => {
      return EIPremiums({employedIncome: 82210, dynamicValues: parseReport.fetchedDynamicValues}) + 

      baseCPPContribution({employedIncome: 82210, selfEmployedIncome: 0, dynamicValues: parseReport.fetchedDynamicValues}) +
      
      formulaEnhancedCPPdeduction({employedIncome: 82210, selfEmployedIncome: 0, data: parseReport.fetchedDynamicValues})
    }


    const CPPForSelfEmployed = () => {
      if(parseReport.getParamsForCalculatingAllCredits1.selfEmployedIncome > 0)  
        return CPPForEmployed()
      else 
        return 0
    }

    const provincialCredits =  formulaForProvincialCredits({
        childCareExpenses: parseReport.childCareExpenses1,
        taxableAmountAfterSupport: 82210,
        rates: parseReport.fetchedONCareTaxDB
      })
    




    console.log("Taxes", { 
       params: {...parseReport.getParamsForCalculatingAllCredits2}, federalTax1, ontarioTax1, CPP: CPPForEmployed(), CPPSelf: CPPForSelfEmployed(), provinCredits: provincialCredits()});

